# 语言入门

### C与C++

首先，让我们看一下一个简单的C程序，用于打印"Hello, World!"：

```c
#include <stdio.h>
int main() {
    printf("Hello, World!\n");
    return 0;
}
```

现在，我们逐步解释每一行的作用：

1. `#include <stdio.h>`:
   - 这是一个预处理指令，告诉C编译器在实际编译之前包含`stdio.h`文件。`stdio.h`是一个标准输入输出头文件，包含了例如`printf()`和`scanf()`等函数的定义。

2. `int main() {`:
   - 这是主函数的开始，每个C程序都有一个`main()`函数。程序的执行从这里开始。
   - `int`表示这个函数返回一个整数类型的值。在这种情况下，它返回`0`。

3. `printf("Hello, World!\n");`:
   - `printf()`是一个在`stdio.h`中定义的标准库函数，用于打印输出。
   - `Hello, World!\n`是要打印的字符串。其中，`\n`是一个换行符，意味着在打印完字符串后开始一个新的行。

4. `return 0;`:
   - 这表示`main()`函数的结束，并返回一个值`0`。
   - 在C中，`main()`函数的返回值通常用来表示程序的退出状态。`0`通常表示程序成功执行，而非零值表示某种错误。

5. `}`:
   - 这表示`main()`函数的结束。

当你运行这个程序时，编译器首先会查找并包含`stdio.h`头文件，然后开始从`main()`函数执行。它会调用`printf()`函数打印"Hello, World!"，然后返回`0`表示程序成功结束。

由于本书完全使用C++代码演示且C++完全兼容C语言，我们在此简要介绍一下C与C++的差异，帮助大家快速入门C++。  

我们从"Hello, World!"程序开始，展示C和C++的基本差异。

1. **C语言**：
```c
#include <stdio.h>
int main() {
    printf("Hello, World!\n");
    return 0;
}
```

2. **C++语言**：
```cpp
#include <iostream>
int main() {
    std::cout << "Hello, World!" << std::endl;
    return 0;
}
```

从上述示例中，我们可以观察到以下差异：

1. **输入/输出**：
   - C语言使用`printf`和`scanf`函数进行输出和输入，它们定义在`<stdio.h>`头文件中。
   - C++使用`std::cout`和`std::cin`进行输出和输入，它们定义在`<iostream>`头文件中。
2. **命名空间**：
   - C++引入了命名空间的概念，例如上述C++代码中的`std::`。这是C++的标准命名空间，许多标准库功能都在这个命名空间下，我们也可以使用using定义全局。
~~~ cpp
#include <iostream>
using namespace std;
int main() {
    cout << "Hello, World!" << endl;
    return 0;
}
~~~
3. **头文件**：
   - C语言的头文件通常以`.h`结尾，如`<stdio.h>`。
   - C++的标准库头文件去掉了`.h`后缀，并在前面加上`c`，如`<cstdio>`。但C++也支持C风格的头文件，如`<iostream>`。

###### 课后练习：

**洛谷 B2002**

注：本书从牛客竞赛，洛谷平台精选题目，可在牛客，洛谷等题库搜索习题，在线搜索题号完成练习。

洛谷题库网址：https://www.luogu.com.cn/problem/list

牛客题库网址：https://ac.nowcoder.com/acm/problem/list

### 基本语法

C++是一种多范式的编程语言,它有许多基础的语法特性。以下是C++的一些基础语法特性的简要介绍和代码示例：

##### **变量和数据类型**：

###### 要点汇总：

C++支持多种基本数据类型，如`int`, `float`, `char`, `double`等。
```cpp
int age = 25;
double pi = 3.14159;
char initial = 'A';
bool f = false;
```
那么什么是数据类型呢？假设你正在建造一个房子。为了建造这个房子，你需要各种各样的材料，如砖块、木头、钢筋、玻璃等。每种材料都有其特定的用途和属性。例如，你不能用玻璃来建造地基，也不能用木头来做窗户。

在C++编程中，数据类型就像建筑材料。它们定义了变量或对象可以存储的数据的种类和范围。例如：

- `int`（整数）就像砖块，用于建造墙壁。它可以存储整数，如1、100或-30。
- `double`（双精度浮点数）就像玻璃窗，透明且可以有小数点。它可以存储如3.14或-0.001这样的数。
- `char`（字符）就像房子的门牌号。它可以存储单个字符，如'A'或'9'。
- `bool`（布尔值）就像开关，只有两种状态：开（`true`）或关（`false`）。

正如你不能随意混合使用建筑材料，你也不能随意混合使用数据类型。每种数据类型都有其特定的用途和限制。选择正确的数据类型可以确保你的程序运行得更加稳定和高效。

##### 输入输出：

###### 要点汇总：

C语言使用`printf`函数进行输出和`scanf`函数进行输入。这两个函数都定义在`<stdio.h>`头文件中。它们都使用格式化字符串来确定如何读取或写入数据。

1. 输入 (`scanf`):

使用`scanf`函数，可以从标准输入读取数据。格式化字符串中的格式说明符决定了要读取的数据类型。

- **整数**:
  - `%d`: 读取一个`int`
  - `%ld`: 读取一个`long int`
  - `%lld`: 读取一个`long long int`
- **浮点数**:
  - `%f`: 读取一个`float`
  - `%lf`: 读取一个`double`
- **字符**:
  - `%c`: 读取一个字符
- **字符串**:
  - `%s`: 读取一个字符串

2. 输出 (`printf`):

使用`printf`函数，可以将数据写入标准输出。

- **整数**:
  - `%d`: 输出一个`int`
  - `%ld`: 输出一个`long int`
  - `%lld`: 输出一个`long long int`
- **浮点数**:
  - `%f`: 输出一个`float`
  - `%lf`: 输出一个`double`
  - `%.2f`: 输出一个`float`，保留两位小数
- **字符**:
  - `%c`: 输出一个字符
- **字符串**:
  - `%s`: 输出一个字符串

3. 特殊字符:

- **换行符**:
  - `\n`: 在输出中创建一个新行
- **制表符**:
  - `\t`: 在输出中创建一个制表符
- **反斜杠**:
  - `\\`: 输出一个反斜杠
- **百分号**:
  - `%%`: 输出一个百分号

例子:

```c
#include <stdio.h>

int main() {
    int a;
    double b;
    char c;
    char str[100];

    // 输入
    scanf("%d", &a);
    scanf("%lf", &b);
    scanf(" %c", &c); // 注意前面的空格，用于消耗前一个输入后的换行符
    scanf("%s", str);

    // 输出
    printf("整数: %d\n", a);
    printf("浮点数(保留2位小数): %.2lf\n", b);
    printf("字符: %c\n", c);
    printf("字符串: %s\n", str);
    printf("特殊字符: \\t 表示制表符, \\n 表示换行符, %% 表示百分号\n");

    return 0;
}
```

在上面的例子中，我们首先从用户那里读取了一个整数、一个浮点数、一个字符和一个字符串，然后将它们打印出来。我们还展示了如何在输出中使用特殊字符。

###### 课后练习：

**牛客 NC21985，牛客 NC21986**

##### **运算符**：

###### 要点汇总：

C++中的运算符用于执行各种操作，如算术、比较、逻辑和赋值等。以下是C++中常见的运算符及其简要描述和代码示例：

1. **算术运算符**：
   
   - `+`：加法
   - `-`：减法
   - `*`：乘法
   - `/`：除法
   - `%`：取模（余数）
   
   ```cpp
   int a = 10, b = 20;
   int sum = a + b;
   int difference = a - b;
   int product = a * b;
   int quotient = b / a;
   int remainder = b % a;
   ```
   
2. **比较运算符**：
   
   - `==`：等于
   - `!=`：不等于
   - `<`：小于
   - `>`：大于
   - `<=`：小于或等于
   - `>=`：大于或等于
   
   ```cpp
   bool isEqual = (a == b);
   bool isNotEqual = (a != b);
   ```
   
3. **逻辑运算符**：
   
   - `&&`：逻辑与
   - `||`：逻辑或
   - `!`：逻辑非
   
   ```cpp
   bool bothTrue = (a == 10) && (b == 20);
   bool eitherTrue = (a == 10) || (b == 30);
   bool notTrue = !(a == 10);
   ```
   
4. **赋值运算符**：
   
   - `=`：赋值
   - `+=`：加并赋值
   - `-=`：减并赋值
   - `*=`：乘并赋值
   - `/=`：除并赋值
   - `%=`：取模并赋值
   
   ```cpp
   a += 10;  // a = a + 10
   b -= 5;   // b = b - 5
   ```
   
5. **异或 按位与 按位或**

   异或、按位与和按位或是位运算符，它们在整数的二进制表示上进行操作。以下是这些运算符的简要介绍：

   1. **异或 (XOR, `^`)**：
      
      - 当两个位不同时，结果为1。
      - 当两个位相同时，结果为0。
      
   2. **按位与 (AND, `&`)**：
      
      - 当两个位都为1时，结果为1。
      - 否则，结果为0。
      
   3. **按位或 (OR, `|`)**：
      
      - 当两个位中至少有一个为1时，结果为1。
      
      - 否则，结果为0。
      



   以下是C++代码示例：

   ```cpp
   #include <iostream>
   using namespace std;
   int main() {
       int a = 5;  // 二进制: 0101
       int b = 3;  // 二进制: 0011
       // 异或操作
       int result_xor = a ^ b;  // 结果: 0110, 即 6
       cout << "a XOR b = " << result_xor << endl;
       // 按位与操作
       int result_and = a & b;  // 结果: 0001, 即 1
       cout << "a AND b = " << result_and << endl;
       // 按位或操作
       int result_or = a | b;  // 结果: 0111, 即 7
       cout << "a OR b = " << result_or << endl;
       return 0;
   }
   ```

   这些位运算符在计算机科学和编程中有许多应用，如算法优化、数据压缩、加密和错误检测等。

6. **其他运算符**：
   
   - `++`：前缀/后缀递增
   - `--`：前缀/后缀递减
   - `&`：按位与
   - `|`：按位或
   - `^`：按位异或
   - `~`：按位非
   - `<<`：左移
   - `>>`：右移
   
   ```cpp
   a++;      // 后缀递增
   ++a;      // 前缀递增
   ```
###### 课后练习：

**洛谷 P1001，牛客 NC21586**

##### **条件语句**：

###### 要点汇总：

你现在站在一个路口，前面有两条路。一条路通往图书馆，另一条路通往咖啡店。你的选择取决于你的需求：如果你想读书，你会选择去图书馆的路；如果你想喝咖啡，你会选择去咖啡店的路。在C++中，条件语句就像这个路口。它允许你根据某个条件（或多个条件）来决定程序应该采取哪条路径或执行哪些操作。

例如，考虑以下代码：

```cpp
if (thirsty) {
    go_to_coffee_shop();
} else {
    go_to_library();
}
```

这就像上面的路口。如果`thirsty`（口渴）为`true`（真），程序会选择`go_to_coffee_shop()`（去咖啡店）的路径；否则，它会选择`go_to_library()`（去图书馆）的路径。

条件语句为程序提供了决策能力，使其能够根据不同的情况做出不同的反应，就像在现实生活中我们面对选择时所做的那样。

###### 课后练习：

**洛谷 P5712，洛谷 P1422**

##### **循环**：

###### 要点汇总：

在一个巨大的果园中，里面有很多苹果树。你的任务是摘下每棵树上的所有苹果。你不可能一次摘下所有的苹果，所以你选择一棵树，开始摘它上面的苹果，直到这棵树上的苹果都被摘完。然后，你移动到下一棵树，重复这个过程，直到果园里的所有苹果都被摘完。在C++中，循环就像你在果园里摘苹果的过程。它允许你重复执行某段代码，直到满足某个条件为止。

例如，考虑以下代码：

```cpp
for (int i = 0; i < total_trees; i++) {
    pick_apples_from_tree(i);
}
```

这就像你在果园里的行为。`for`循环开始于第一棵树（`i = 0`），并继续摘苹果，直到所有的树（`total_trees`）都被访问过。每次循环，`i`都会增加，代表你移动到下一棵树。

循环为程序提供了执行重复任务的能力，而不需要每次都写相同的代码，就像你不需要为果园里的每棵树单独制定一个摘苹果的计划那样。

C++提供了`for`, `while` 和 `do-while` 循环。
```cpp
for (int i = 0; i < 5; i++) {
    cout << i << endl;
}

int j = 0;
while (j < 5) {
    cout << j << endl;
    j++;
}
```

###### 课后练习：

**牛客 NC22206，牛客 NC22204，牛客 NC22157**

##### **函数**：

###### 要点汇总：

你有一个魔法搅拌机。每次你想制作果汁，你只需将一些水果放入搅拌机，按下按钮，然后魔法搅拌机会为你制作出美味的果汁。你不需要知道搅拌机是如何工作的，只需要知道放入什么水果，然后得到什么样的果汁。在C++中，函数就像这个魔法搅拌机。它是一个独立的代码块，可以接受一些输入（称为参数），处理它们，然后返回一个结果（称为返回值）。你不需要知道函数内部是如何工作的，只需要知道如何使用它。

例如，你可能有一个函数叫做`makeJuice()`，它接受一种水果作为输入，并返回相应的果汁。
```cpp
string makeJuice(string fruit) {
    // ...魔法搅拌过程...
    return juice;
}
```

每次你想要果汁时，你只需调用这个函数，提供你选择的水果，然后得到果汁，就像使用魔法搅拌机一样简单！

函数的好处是，它们允许你将复杂的任务分解为更小、更易于管理的部分，并且可以在程序中多次重复使用，而不需要重复编写相同的代码。

下面我们将详细介绍C++函数的定义及其各个组成部分。

1. **返回类型**:
   - 这指定了函数返回给调用者的值的类型。例如，`int`表示函数返回一个整数，`void`表示函数不返回任何值。

2. **函数名称**:
   - 这是你给函数起的名字，用于在其他地方调用它。

3. **参数列表**:
   - 这是在括号中的一组变量，它们表示当你调用函数时需要传递给函数的值。这些值被称为参数。

4. **函数体**:
   - 这是在花括号`{ }`中的代码块，它定义了函数的具体操作。

让我们通过一个例子来看每个部分：

```cpp
int add(int a, int b) {
    return a + b;
}
```

- **返回类型**: `int`。这意味着`add`函数将返回一个整数值。
- **函数名称**: `add`。这是我们为函数选择的名称。
- **参数列表**: `(int a, int b)`。这意味着当我们调用`add`函数时，我们需要传递两个整数值。
- **函数体**:
  
  ```cpp
  {
      return a + b;
  }
  ```
  这部分的代码定义了函数的操作，即将两个整数相加并返回结果。

**调用函数**:
当你定义了一个函数后，你可以在程序的其他部分调用它。例如，使用上面的`add`函数：

```cpp
int result = add(5, 3);  // result 将得到值 8
```

**注意**:

- 函数可以在主函数`main()`之前或之后定义，但必须在调用它之前定义或声明。
- 函数可以没有参数，例如`void displayMessage() { ... }`。
- 你可以在一个函数内部调用另一个函数，这称为函数的嵌套调用。

总的来说，函数是一种组织和重用代码的方法，它允许我们将复杂的程序分解成更小、更易于管理的部分。

###### 课后练习：

**牛客 NC15756，牛客 NC14585， 牛客 NC208815，洛谷P5716，洛谷 P5722，洛谷 P5739，洛谷 P1567，洛谷 P2415，洛谷 P5736，洛谷 P5737**

##### **数组和字符串**：

###### 要点汇总：

1. **数组**：
   在一个长长的鞋架上，每个格子都放着一双鞋。这个鞋架就像C++中的数组。每个格子都有一个编号，从0开始，这就是数组的索引。你可以通过这个编号快速找到你想要的鞋子。同样，在数组中，你可以通过索引快速访问或修改某个特定的元素。所有的鞋子都放在一个连续的空间里，就像数组中的元素都存储在连续的内存位置中。

2. **字符串**：
   如果你有一串珍珠项链，每颗珍珠上都刻有一个字母。当这些字母连接在一起时，它们形成了一个词或句子。这就是C++中的字符串。字符串实际上是一个字符数组，每个字符就像珍珠项链上的一颗珍珠。字符串的末尾有一个特殊的字符，叫做空字符（'\0'），它告诉我们字符串在哪里结束，就像项链的尾巴告诉我们珍珠的顺序在哪里结束。

所以，数组就像一个可以存放多个相同类型元素的鞋架，而字符串就像一个由字符组成的珍珠项链，用来表示文本信息。
以下是C++中数组和字符串的基本介绍和代码示例：

1. 数组

在C++中，数组是相同类型数据的集合，存储在连续的内存位置。

**语法**：

```cpp
type arrayName[arraySize];
```

**示例**：

```cpp
#include <iostream>
using namespace std;
int main() {
    int numbers[5] = {1, 2, 3, 4, 5}; // 定义一个整数数组
    for(int i = 0; i < 5; i++) {
        cout << numbers[i] << " "; // 输出数组元素
    }
    cout << endl;
    return 0;
}
```



2. 字符串

在C++中，字符串可以使用字符数组或`string`类来表示。

**字符数组示例**：

```cpp
#include <iostream>
using namespace std;
int main() {
    char greeting[6] = {'H', 'e', 'l', 'l', 'o', '\0'}; // 使用字符数组定义字符串
    cout << "Greeting message: " << greeting << endl; // 输出字符串
    return 0;
}
```

**string类示例**：

```cpp
#include <iostream>
#include <string> // 必须包含这个头文件
using namespace std;
int main() {
    string greeting = "Hello"; // 使用string类定义字符串
    cout << "Greeting message: " << greeting << endl; // 输出字符串
    return 0;
}
```

**注意**：使用`string`类时，需要包含`<string>`头文件，并确保编译器支持C++标准库。

总结：
- 数组是相同类型数据的集合，存储在连续的内存位置。
- 字符串可以使用字符数组或`string`类来表示。使用`string`类更为方便，提供了许多与字符串操作相关的方法。
###### 课后练习：

**牛客 NC208813，牛客 NC16538，牛客 NC14895，牛客 NC201626， 洛谷 P1307，洛谷 P1085，洛谷 P1428，洛谷 P5728，洛谷 P5732，洛谷 P1789**

##### **类和对象**：

###### 要点汇总：

在一个玩具工厂里，你想制造一种新的玩具——一个机器人。为了制造这个机器人，你首先需要一个设计图纸，这个图纸详细描述了机器人的各个部分，如头部、手臂、腿部、电池等，以及机器人可以执行的动作，如走路、说话、跳舞等。

在C++中，类（Class）就像这个设计图纸。它是一个模板或蓝图，描述了一个对象（在这个例子中是机器人）的属性（如头部、手臂等）和方法（如走路、说话等）。使用这个类，你可以创建多个机器人对象，每个对象都有相同的属性和方法，但可能有不同的属性值（例如，一个机器人是红色的，另一个是蓝色的）。

例如：

```cpp
class Robot {
public:
    // 属性
    string color;
    int battery;
    // 方法
    void walk() {
        cout << "Walking...";
    }
    void talk() {
        cout << "Talking...";
    }
};
```

这个`Robot`类描述了一个机器人应该有的基本特征和能力。然后，你可以使用这个类来创建具体的机器人对象：

```cpp
Robot robot1;
robot1.color = "Red";
robot1.battery = 100;
Robot robot2;
robot2.color = "Blue";
robot2.battery = 90;
```

这样，`robot1`和`robot2`都是根据`Robot`类的设计图纸制造的机器人，但它们有不同的颜色和电池电量。



总之，类是C++中用于定义对象的属性和方法的蓝图或模板，而对象是根据这个类创建的实例。

以下是创建一个Person类的代码实现：

```cpp
class Person {
public:
    string name;
    int age;

    void introduce() {
        cout << "My name is " << name << " and I am " << age << " years old." << endl;
    }
};

Person john;
john.name = "John";
john.age = 25;
john.introduce();
```
###### 课后练习：

**洛谷 P5744**
